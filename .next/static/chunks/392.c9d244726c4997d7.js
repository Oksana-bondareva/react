(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{6371:function(){throw Error("Module build failed: Error: Final loader (./node_modules/next/dist/build/webpack/loaders/error-loader.js) didn't return a Buffer or String\n    at processResult (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:400836)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:402302\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:8727\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5565)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5650)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5879\n    at runSyncOrAsync (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:4185)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5782)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5426\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:401777")},4817:function(){throw Error("Module build failed: Error: Final loader (./node_modules/next/dist/build/webpack/loaders/error-loader.js) didn't return a Buffer or String\n    at processResult (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:400836)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:402302\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:8727\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5565)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5650)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5879\n    at runSyncOrAsync (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:4185)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5782)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5426\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:401777")},2117:function(){throw Error("Module build failed: Error: Final loader (./node_modules/next/dist/build/webpack/loaders/error-loader.js) didn't return a Buffer or String\n    at processResult (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:400836)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:402302\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:8727\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5565)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5650)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5879\n    at runSyncOrAsync (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:4185)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5782)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5426\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:401777")},7070:function(){throw Error("Module build failed: Error: Final loader (./node_modules/next/dist/build/webpack/loaders/error-loader.js) didn't return a Buffer or String\n    at processResult (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:400836)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:402302\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:8727\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5565)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5650)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5879\n    at runSyncOrAsync (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:4185)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5782)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5426\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:401777")},6763:function(){throw Error("Module build failed: Error: Final loader (./node_modules/next/dist/build/webpack/loaders/error-loader.js) didn't return a Buffer or String\n    at processResult (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:400836)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:402302\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:8727\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5565)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5650)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5879\n    at runSyncOrAsync (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:4185)\n    at iterateNormalLoaders (C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5782)\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\loader-runner\\LoaderRunner.js:1:5426\n    at C:\\Users\\bonda\\react\\node_modules\\next\\dist\\compiled\\webpack\\bundle5.js:28:401777")},4392:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return N}});var a=n(5893),s=n(7294);n(6371),n(7070);var d=()=>{let[e,r]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=localStorage.getItem("searchQuery");e&&r(e)},[]),(0,s.useEffect)(()=>{localStorage.setItem("searchQuery",e)},[e]),{searchQuery:e,setSearchQuery:r}},o=e=>{let{onSearch:r}=e,{searchQuery:n,setSearchQuery:s}=d();return(0,a.jsxs)("div",{className:"search-form",children:[(0,a.jsx)("input",{className:"search-form__input",type:"text",placeholder:"Search...",value:n,onChange:e=>{s(e.target.value)}}),(0,a.jsx)("button",{className:"search-form__button",onClick:e=>{e.preventDefault(),r(n)},children:"Search"})]})};n(2117);var t=n(9250),l=n(5007);let c=(0,n(6986).oM)({name:"selectedItems",initialState:{items:[]},reducers:{addItem:(e,r)=>{let{name:n,height:a,url:s,mass:d,hair_color:o,skin_color:t,eye_color:l,birth_year:c,gender:u}=r.payload;e.items.push({name:n,height:a,url:s,mass:d,hair_color:o,skin_color:t,eye_color:l,birth_year:c,gender:u})},removeItem:(e,r)=>{let n=r.payload;e.items=e.items.filter(e=>e.name!==n)},clearItems:e=>{e.items=[]},downloadItems:e=>{let r=new Blob([e.items.map(e=>'"'.concat(e.name,'","').concat(e.height,'", "').concat(e.gender,'", "').concat(e.url,'"')).join("\n")],{type:"text/csv;charset=utf-8"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(e.items.length,"_persons.csv"),a.click(),URL.revokeObjectURL(n)}}}),{addItem:u,removeItem:i,clearItems:m,downloadItems:p}=c.actions;c.reducer,n(4817);var b=()=>{let e=(0,l.v9)(e=>e.selectedItems.items),r=(0,l.I0)();return(0,a.jsxs)("div",{className:"flyout-wrapper",children:[(0,a.jsx)("button",{className:"flyout-button",onClick:()=>{r(m())},children:"Unselect all"}),(0,a.jsxs)("div",{className:"flyout-count",children:["Selected: ",e.length]}),(0,a.jsx)("button",{className:"flyout-button",onClick:()=>{r(p())},children:"Download"})]})},x=e=>{let{data:r}=e,n=(0,t.TH)(),s=(0,t.s0)(),d=(0,l.v9)(e=>e.selectedItems.items),o=(0,l.I0)(),c=e=>{o(u(e))},m=e=>{o(i(e.name))};return(0,a.jsxs)("div",{className:"results",children:[(0,a.jsx)("div",{className:"results-overlay",onClick:()=>{s("/search/".concat(n.pathname.split("/")[2]||1))}}),(0,a.jsxs)("div",{className:"results-container",children:[r.map((e,r)=>(0,a.jsxs)("div",{className:"results-card","data-testid":"character-card",onClick:()=>{s("/search/".concat(n.pathname.split("/")[2]||1,"/details/").concat(e.url.slice(29,e.url.lastIndexOf("/"))))},children:[(0,a.jsx)("input",{type:"checkbox",className:"card-checkbox","data-testid":"checkbox",onChange:()=>{d.some(r=>r.name===e.name)?m(e):c(e)},checked:d.some(r=>r.name===e.name)}),(0,a.jsxs)("p",{className:"results-info",children:["Name: ",e.name]})]},r)),!r.length&&(0,a.jsx)("div",{className:"not-found-message",children:"Oops, nothing was found!"}),d.length>0&&(0,a.jsx)(b,{})]}),n.pathname.includes("/details/")&&(0,a.jsx)(t.j3,{})]})},j=()=>(0,a.jsx)("div",{className:"loading",children:"Loading..."}),h=n(9202),C=n(7426);let{useGetPersonByIdQuery:_,useGetPeopleQuery:L}=(0,h.LC)({reducerPath:"api",baseQuery:(0,C.ni)({baseUrl:"https://swapi.dev/api/"}),endpoints:e=>({getPersonById:e.query({query:e=>"people/".concat(e)}),getPeople:e.query({query:e=>{let{search:r,page:n}=e;return"people/?search=".concat(r,"&page=").concat(n)}})})}),U=(0,s.createContext)(void 0),f=()=>{let e=(0,s.useContext)(U);if(!e)throw Error("UseTheme error");return e};n(6763);var R=()=>{let{theme:e,toggleTheme:r}=f();return(0,a.jsxs)("button",{onClick:r,className:"theme-button",children:["light"===e?"Dark":"Light"," theme"]})},N=()=>{let e=(0,t.s0)(),r=(0,t.TH)(),[n,d]=(0,s.useState)(localStorage.getItem("search")||""),[l,c]=(0,s.useState)(1),{data:u,error:i,isLoading:m}=L({search:n,page:l}),{theme:p}=f();return(0,s.useEffect)(()=>{c(1),i&&console.log(i)},[i]),(0,s.useEffect)(()=>{d(localStorage.getItem("search")||""),c(Number(r.pathname.split("/")[2])||1)},[r.pathname]),(0,a.jsxs)("div",{className:p,children:[(0,a.jsxs)("section",{className:"search-section",children:[(0,a.jsx)("button",{className:"error-button",onClick:()=>{throw Error("Oops, something went wrong...")},children:"ERROR"}),(0,a.jsx)(o,{onSearch:r=>{var n;null===(n=event)||void 0===n||n.preventDefault(),localStorage.setItem("search",r),d(r),c(1),e("/")}}),(0,a.jsx)(R,{})]}),(0,a.jsx)("section",{children:m?(0,a.jsx)(j,{}):(0,a.jsxs)("div",{className:"results-wrapper",children:[(0,a.jsx)(x,{data:(null==u?void 0:u.results)||[]}),(0,a.jsxs)("div",{className:"pagination-pages",children:[(0,a.jsx)("button",{className:"pagination-button",onClick:()=>{l>1&&(c(l-1),e("/search/".concat(l-1)))},children:"Prev"}),(0,a.jsxs)("span",{children:["Page ",l]}),(0,a.jsx)("button",{className:"pagination-button",onClick:()=>{c(l+1),e("/search/".concat(l+1))},children:"Next"})]})]})})]})}}}]);