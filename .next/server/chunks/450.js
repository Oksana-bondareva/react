exports.id=450,exports.ids=[450],exports.modules={9450:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>p});var r=s(997),c=s(6689);s(5833);var l=s(8665),n=s(7423),i=s(9482),o=s(4661),u=s(7629),d=s(4889),h=s(8056),m=e([n,u]);[n,u]=m.then?(await m)():m;let p=()=>{let e=(0,o.useNavigate)(),t=(0,o.useLocation)(),[s,a]=(0,c.useState)(localStorage.getItem("search")||""),[m,p]=(0,c.useState)(1),{data:x,error:v,isLoading:g}=(0,u.u6)({search:s,page:m}),{theme:j}=(0,d.F)();return(0,c.useEffect)(()=>{p(1),v&&console.log(v)},[v]),(0,c.useEffect)(()=>{a(localStorage.getItem("search")||"");let e=Number(t.pathname.split("/")[2])||1;p(e)},[t.pathname]),(0,r.jsxs)("div",{className:j,children:[(0,r.jsxs)("section",{className:"search-section",children:[r.jsx("button",{className:"error-button",onClick:()=>{throw Error("Oops, something went wrong...")},children:"ERROR"}),r.jsx(l.Z,{onSearch:t=>{event?.preventDefault(),localStorage.setItem("search",t),a(t),p(1),e("/")}}),r.jsx(h.Z,{})]}),r.jsx("section",{children:g?r.jsx(i.Z,{}):(0,r.jsxs)("div",{className:"results-wrapper",children:[r.jsx(n.Z,{data:x?.results||[]}),(0,r.jsxs)("div",{className:"pagination-pages",children:[r.jsx("button",{className:"pagination-button",onClick:()=>{m>1&&(p(m-1),e(`/search/${m-1}`))},children:"Prev"}),(0,r.jsxs)("span",{children:["Page ",m]}),r.jsx("button",{className:"pagination-button",onClick:()=>{p(m+1),e(`/search/${m+1}`)},children:"Next"})]})]})})]})};a()}catch(e){a(e)}})},9446:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>i});var r=s(997),c=s(3291);s(985);var l=s(1334),n=e([c,l]);[c,l]=n.then?(await n)():n;let i=()=>{let e=(0,c.useSelector)(e=>e.selectedItems.items),t=(0,c.useDispatch)();return(0,r.jsxs)("div",{className:"flyout-wrapper",children:[r.jsx("button",{className:"flyout-button",onClick:()=>{t((0,l.H5)())},children:"Unselect all"}),(0,r.jsxs)("div",{className:"flyout-count",children:["Selected: ",e.length]}),r.jsx("button",{className:"flyout-button",onClick:()=>{t((0,l.sZ)())},children:"Download"})]})};a()}catch(e){a(e)}})},9482:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(997);let r=()=>a.jsx("div",{className:"loading",children:"Loading..."})},7423:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>u});var r=s(997);s(8996);var c=s(4661),l=s(3291),n=s(1334),i=s(9446),o=e([l,n,i]);[l,n,i]=o.then?(await o)():o;let u=({data:e})=>{let t=(0,c.useLocation)(),s=(0,c.useNavigate)(),a=(0,l.useSelector)(e=>e.selectedItems.items),o=(0,l.useDispatch)(),u=e=>{o((0,n.jX)(e))},d=e=>{o((0,n.cl)(e.name))};return(0,r.jsxs)("div",{className:"results",children:[r.jsx("div",{className:"results-overlay",onClick:()=>{s(`/search/${t.pathname.split("/")[2]||1}`)}}),(0,r.jsxs)("div",{className:"results-container",children:[e.map((e,c)=>(0,r.jsxs)("div",{className:"results-card","data-testid":"character-card",onClick:()=>{s(`/search/${t.pathname.split("/")[2]||1}/details/${e.url.slice(29,e.url.lastIndexOf("/"))}`)},children:[r.jsx("input",{type:"checkbox",className:"card-checkbox","data-testid":"checkbox",onChange:()=>{a.some(t=>t.name===e.name)?d(e):u(e)},checked:a.some(t=>t.name===e.name)}),(0,r.jsxs)("p",{className:"results-info",children:["Name: ",e.name]})]},c)),!e.length&&r.jsx("div",{className:"not-found-message",children:"Oops, nothing was found!"}),a.length>0&&r.jsx(i.Z,{})]}),t.pathname.includes("/details/")&&r.jsx(c.Outlet,{})]})};a()}catch(e){a(e)}})},8665:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(997),r=s(6689);s(1420);let c=()=>{let[e,t]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=localStorage.getItem("searchQuery");e&&t(e)},[]),(0,r.useEffect)(()=>{localStorage.setItem("searchQuery",e)},[e]),{searchQuery:e,setSearchQuery:t}},l=({onSearch:e})=>{let{searchQuery:t,setSearchQuery:s}=c();return(0,a.jsxs)("div",{className:"search-form",children:[a.jsx("input",{className:"search-form__input",type:"text",placeholder:"Search...",value:t,onChange:e=>{s(e.target.value)}}),a.jsx("button",{className:"search-form__button",onClick:s=>{s.preventDefault(),e(t)},children:"Search"})]})}},4889:(e,t,s)=>{"use strict";s.d(t,{F:()=>c}),s(997);var a=s(6689);let r=(0,a.createContext)(void 0),c=()=>{let e=(0,a.useContext)(r);if(!e)throw Error("UseTheme error");return e}},8056:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(997),r=s(4889);s(9065);let c=()=>{let{theme:e,toggleTheme:t}=(0,r.F)();return(0,a.jsxs)("button",{onClick:t,className:"theme-button",children:["light"===e?"Dark":"Light"," theme"]})}},7629:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{u6:()=>n});var r=s(9943),c=e([r]);r=(c.then?(await c)():c)[0];let{useGetPersonByIdQuery:l,useGetPeopleQuery:n}=(0,r.createApi)({reducerPath:"api",baseQuery:(0,r.fetchBaseQuery)({baseUrl:"https://swapi.dev/api/"}),endpoints:e=>({getPersonById:e.query({query:e=>`people/${e}`}),getPeople:e.query({query:({search:e,page:t})=>`people/?search=${e}&page=${t}`})})});a()}catch(e){a(e)}})},1334:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{H5:()=>o,cl:()=>i,jX:()=>n,sZ:()=>u});var r=s(3258),c=e([r]);r=(c.then?(await c)():c)[0];let l=(0,r.createSlice)({name:"selectedItems",initialState:{items:[]},reducers:{addItem:(e,t)=>{let{name:s,height:a,url:r,mass:c,hair_color:l,skin_color:n,eye_color:i,birth_year:o,gender:u}=t.payload;e.items.push({name:s,height:a,url:r,mass:c,hair_color:l,skin_color:n,eye_color:i,birth_year:o,gender:u})},removeItem:(e,t)=>{let s=t.payload;e.items=e.items.filter(e=>e.name!==s)},clearItems:e=>{e.items=[]},downloadItems:e=>{let t=e.items.map(e=>`"${e.name}","${e.height}", "${e.gender}", "${e.url}"`).join("\n"),s=new Blob([t],{type:"text/csv;charset=utf-8"}),a=URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download=`${e.items.length}_persons.csv`,r.click(),URL.revokeObjectURL(a)}}}),{addItem:n,removeItem:i,clearItems:o,downloadItems:u}=l.actions;l.reducer,a()}catch(e){a(e)}})},5833:()=>{},985:()=>{},8996:()=>{},1420:()=>{},9065:()=>{}};